<section class="container">
    <form class="form" #form="ngForm" (ngSubmit)="submitForm(form)">
        <h1 class="formtitle">SignUp Form</h1>
         <!--FORM ERROR MSG-->
         <div class="formerror" *ngIf="form.invalid && formSubmit">
<p> Problem with form data!!!</p>
</div>

        <!--collect username-->
        <div class="form_control">
            <label for="username"> Username: </label>
            <input type="text" id="username" placeholder="Type username..." [(ngModel)]="newuser.name" name="userName" #name= 'ngModel' (change)="displaylog(name)" required minlength="2" maxlength="30">

            <!--Error message-->
            <div class="valid" *ngIf="!name.valid && name.touched">
               <p *ngIf="name.errors?.['required']"> Name is required</p>
               <p *ngIf="name.errors?.['minlength']">Name must be atleast 2 characted</p>
            </div>
        </div>

 <!--collect email-->
 <div class="form_control">
    <label for="email"> Email: </label>
    <input type="email" id="email" placeholder="Type email..." [(ngModel)]="newuser.email" name="userEmail" #email="ngModel" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$">
</div>

<!--EMAIL Error message-->
<div class="valid" *ngIf="!email.valid && email.touched">
    <p *ngIf="email.errors?.['required']"> Email is required</p>
    <p *ngIf="email.errors?.['email']">Email address invalid </p>
 </div>


<!--submit button-->
<div class="form_control">
    <button type="submit" class="btnsubmit"[disabled]="formSubmit && form.invalid">Submit</button>
    </div>

    <!--JSON display-->
    <div class="json_display" *ngIf="!form.valid && form.submitted">
        <p>Thanks for the info <b>{{parsedJsonName}}!</b></p>
        <p> Your confirmation was sent to <b>{{parsedJsonEmail}}</b></p>
    </div>

    <!--loop all user-->
    <div>
        <ul>
            <li *ngFor="let user of model.getuser()"> {{user.id}} -- {{user.name}},{{user.email}}</li>
        </ul>
    </div>
</form>


</section>
